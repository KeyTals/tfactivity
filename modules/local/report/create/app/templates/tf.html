{% extends "base.html" %}

{% block tabs %}
{% from 'macros.html' import tabs %}
{{ tabs(active="tf") }}
{% endblock %}

{% block content %}

<div class="ranking-container">
    <div class="stretch-row">
        {% for assay in assays %}
        <span class="chip stretchable active">{{ assay }}</span>
        {% endfor %}
    </div>
    {% for tf, dcgs in ranking.items() %}
    <div class="card" style="width: 100%;">
        <div class="accordion">
            <input type="checkbox" id="accordion-{{ tf | lower }}" name="accordion-checkbox" hidden>
            <label class="accordion-header" for="accordion-{{ tf | lower }}">
                <i class="icon icon-arrow-right mr-1"></i>
                {{ tf }}
                {% for assay in assays %}
                {% if assay not in dcgs %}
                {% set color = 'grey' %}
                {% else %}
                {% set dcg = dcgs[assay] %}
                {% if dcg >= 2/3 %} {% set color='green' %} {% elif dcg >=1/3 %} {% set color='orange' %} {%
                else %} {% set color='red' %} {% endif %} {% endif %} <button class="btn btn-primary btn-sm float-right"
                    style="background-color: {{ color }}">
                    {{ assay }}
                </button>
                {% endfor %}
                <button class="btn btn-primary btn-sm float-right">Details</button>
            </label>
            <div class="accordion-body">
                <h2>Hello</h2>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}